"use strict";(self.webpackChunktma_dashboard=self.webpackChunktma_dashboard||[]).push([[606],{6117:function(e,n,r){var t=r(1413),s=r(885),i=r(2791),a=r(6739),l=r(1460),o=r(834),c=r(6871),d=r(184);n.Z=function(e){var n=(0,c.s0)(),r=(0,i.useState)({successPath:e.successPath,openModal:!1,messageType:null,message:null}),u=(0,s.Z)(r,2),h=u[0],p=u[1];function f(r,s){"success"===h.messageType&&n(h.successPath),e.modalInfo.openModal=!1,p((0,t.Z)((0,t.Z)({},h),{},{openModal:!1}))}return(0,i.useEffect)((function(){p((0,t.Z)((0,t.Z)({},h),{},{openModal:e.modalInfo.openModal,messageType:e.modalInfo.messageType,message:e.modalInfo.message}))}),[e]),(0,d.jsxs)(a.Z,{centered:!1,closeIcon:!0,open:h.openModal,onClose:f,children:[(0,d.jsx)(a.Z.Header,{children:"Message"}),(0,d.jsx)(a.Z.Content,{children:(0,d.jsx)(l.Z,{color:"success"===h.messageType?"green":"warning"===h.messageType?"orange":"red",children:(0,d.jsx)(l.Z.Header,{children:h.message})})}),(0,d.jsx)(a.Z.Actions,{children:(0,d.jsx)(o.Z,{color:"grey",onClick:f,children:"Close"})})]})}},6606:function(e,n,r){r.r(n);var t=r(5861),s=r(885),i=r(7757),a=r.n(i),l=r(4581),o=r(2966),c=r(4863),d=r(2417),u=r(6605),h=r(899),p=r(9402),f=r(6303),m=r(5409),Z=r(2791),x=r(2043),g=r(5392),v=r(5051),b=r(6117),j=r(184);n.default=function(){var e=(0,Z.useState)(null),n=(0,s.Z)(e,2),r=n[0],i=n[1],y=(0,Z.useState)({}),w=(0,s.Z)(y,2),I=w[0],M=w[1],S=(0,Z.useState)(null),T=(0,s.Z)(S,2),k=T[0],D=T[1],O=(0,Z.useState)({openModal:!1}),C=(0,s.Z)(O,2),N=C[0],P=C[1],q=(0,Z.useState)(!1),R=(0,s.Z)(q,2),A=R[0],F=R[1];function J(){return(J=(0,t.Z)(a().mark((function e(n){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,m.Z)().getMetrics(n);case 2:r=e.sent,(0,x.Z)().convertMetrics(r,i);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return(Q=(0,t.Z)(a().mark((function e(n,r){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(JSON.stringify(I))).metricId=r.value,M(t),""===r.value){e.next=8;break}return e.next=6,(0,m.Z)().getMetricById(r.value,D);case 6:e.next=9;break;case 8:D(null);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function B(e){if(A)if("modelName"===e){if(!(0,v.Z)().validStringOrDropDownSelection(I.modelName))return{content:"Please enter a name for the Quality Model",pointing:"above"}}else if("modelDescriptionReference"===e){if(!(0,v.Z)().validIntGreaterOrEqualThanZero(I.modelDescriptionReference))return{content:"Please enter an integer number >= 0",pointing:"above"}}else if("businessThreshold"===e){if(!(0,v.Z)().validFloatBetweenZeroAndOne(I.businessThreshold))return{content:"Please enter a float number where  0.0 <= number <= 1.0 ",pointing:"above"}}else if("metricId"===e&&!(0,v.Z)().validStringOrDropDownSelection(I.metricId))return{content:"Please choose a metric",pointing:"above"};return null}function E(e){var n=JSON.parse(JSON.stringify(I));n[e.currentTarget.name]=e.currentTarget.value,M(n)}function G(){return(G=(0,t.Z)(a().mark((function e(n){var r,t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!(0,v.Z)().validStringOrDropDownSelection(I.modelName)){e.next=14;break}if(!(0,v.Z)().validIntGreaterOrEqualThanZero(I.modelDescriptionReference)){e.next=14;break}if(!(0,v.Z)().validFloatBetweenZeroAndOne(I.businessThreshold)){e.next=14;break}if(!(0,v.Z)().validStringOrDropDownSelection(I.metricId)){e.next=14;break}return(r=JSON.parse(JSON.stringify(I))).metric={metricId:I.metricId},delete r.metricId,e.next=10,(0,m.Z)().createQualityModel(r);case 10:return(t=e.sent).openModal=!0,P(t),e.abrupt("return");case 14:P({messageType:"error",message:"Please fill in all the required fields (marked with  * ) and respect the fields notes",openModal:!0}),F(!0);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,Z.useEffect)((function(){!function(e){J.apply(this,arguments)}({createQualityModel:"true"})}),[]),(0,j.jsxs)("div",{children:[(0,j.jsx)(l.Z,{centered:!0,children:(0,j.jsx)(l.Z.Row,{children:(0,j.jsx)(l.Z.Column,{width:15,children:(0,j.jsx)(o.Z,{section:!0,horizontal:!0,children:(0,j.jsx)(c.Z,{as:"h1",textAlign:"center",children:" Create Quality Model"})})})})}),(0,j.jsx)("br",{}),null===r?(0,j.jsx)(d.Z,{active:!0,inline:"centered",children:" Retrieving content"}):(0,j.jsxs)("div",{children:[(0,j.jsx)(u.Z,{children:(0,j.jsxs)(h.Z,{children:[(0,j.jsxs)(p.Z,{children:[(0,j.jsxs)(p.Z.Group,{widths:"equal",children:[(0,j.jsx)(p.Z.Field,{children:(0,j.jsx)(p.Z.Input,{fluid:!0,required:!0,name:"modelName",label:"modelName",onChange:E,error:B("modelName")})}),(0,j.jsx)(p.Z.Field,{children:(0,j.jsx)(p.Z.Input,{fluid:!0,required:!0,name:"modelDescriptionReference",label:"modelDescriptionReference",onChange:E,error:B("modelDescriptionReference")})}),(0,j.jsx)(p.Z.Field,{children:(0,j.jsx)(p.Z.Input,{fluid:!0,required:!0,step:"0.01",name:"businessThreshold",label:"businessThreshold",onChange:E,error:B("businessThreshold")})}),(0,j.jsx)(p.Z.Button,{color:"grey",circular:!0,type:"submit",floated:"right",onClick:function(e){return G.apply(this,arguments)},children:"Create Quality Model"})]}),(0,j.jsx)(p.Z.Group,{children:(0,j.jsx)(p.Z.Dropdown,{selectOnBlur:!1,selectOnNavigation:!1,required:!0,clearable:!0,search:!0,selection:!0,options:r,placeholder:"Filter metrics by something",label:"Associate Metric",onChange:function(e,n){return Q.apply(this,arguments)},name:"metricId",error:B("metricId")})})]}),(0,j.jsx)(o.Z,{section:!0,horizontal:!0,children:(0,j.jsx)(c.Z,{as:"h3",textAlign:"center",children:" Preview metrics tree"})}),null!==k?(0,j.jsx)(g.Z,{width:"100%",height:"50vh",data:k}):(0,j.jsxs)(f.Z,{active:!0,ribbon:!0,as:"b",color:"red",children:[(0,j.jsx)(c.Z,{as:"h3",children:" Warning! "}),"Metrics tree will only be displayed once a metric is chosen"]})]})}),(0,j.jsx)(b.Z,{successPath:"/getQualityModels",modalInfo:N})]})]})}}}]);
//# sourceMappingURL=606.fdf1be86.chunk.js.map